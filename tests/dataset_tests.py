import unittest
from Program import DataSet


class MyTestCase(unittest.TestCase):
    def test_conver_row_to_dictionary(self):
        columns_name = ['name', 'description', 'key_skills', 'experience_id', 'premium', 'employer_name', 'salary_from',
                        'salary_to', 'salary_gross', 'salary_currency', 'area_name', 'published_at']
        row = ['Web-программист',
               '<p>NEW! Web-программист(без опыта и с опытом)</p> <p> </p> <p><strong>Обязанности</strong>:</p> <p>- верстка сайтов на основе готовых макетов PHP, HTML и CSS</p> <p>- подключение собственной системы управления(обучение)</p> <p>- развитие собственного движка и системы управления</p> <p>- установка движка организации на проектах (обучение)</p> <p><br /><strong>Требования:</strong></p> <ul> <li>PHP7.4+ (знания ООП и паттернов проектирования) MySQL(MariaDB,PostgresQL)</li> <li>CSS(LESS,SASS)</li> <li>JS(TypeScript,NodeJS)</li> <li>знание основ Figma / Photoshop(для верстки с макетов из PSD)</li> <li>остальное при собеседовании.</li> </ul> <p><br /><strong>Условия:</strong></p> <p>- работа с офисе на Московское шоссе (удаленка после испытательного срока)</p> <p>- 5 дней с 9-00 до 18-00 (после вхождения в работу график может быть плавающим)</p> <p>- чай кофе печеньки</p> <p>- дружный коллектив</p> <p>- отпуск ежегодный оплачиваемый</p> <p> </p> <p><strong>В целом рассматриваем как с опытом работы так и без опыта. Если человек готов учиться и развиваться, он предан и любит программировать и верстать сайты мы его научим и подготовим за счет компании.</strong></p> <p> </p> <p>Испытательный срок от 2 до 4 недель(при собеседовании)</p> <p>Зарплата 2 раза в месяц: аванс и оклад.</p> <p><strong>Оклад фиксированный</strong> + <strong>% от объема</strong> выполненных задач за месяц.</p>',
               'Управление проектами\nВедение переговоров\nРазработка ПО', 'noExperience', 'False', 'Асташенков Г. А.',
               '30000.0', '80000.0', 'False', 'RUR', 'Ульяновск', '2022-05-31T17:32:31+0300']
        result = {'name': 'Web-программист',
                  'description': 'NEW! Web-программист(без опыта и с опытом) Обязанности: - верстка сайтов на основе готовых макетов PHP, HTML и CSS - подключение собственной системы управления(обучение) - развитие собственного движка и системы управления - установка движка организации на проектах (обучение) Требования: PHP7.4+ (знания ООП и паттернов проектирования) MySQL(MariaDB,PostgresQL) CSS(LESS,SASS) JS(TypeScript,NodeJS) знание основ Figma / Photoshop(для верстки с макетов из PSD) остальное при собеседовании. Условия: - работа с офисе на Московское шоссе (удаленка после испытательного срока) - 5 дней с 9-00 до 18-00 (после вхождения в работу график может быть плавающим) - чай кофе печеньки - дружный коллектив - отпуск ежегодный оплачиваемый В целом рассматриваем как с опытом работы так и без опыта. Если человек готов учиться и развиваться, он предан и любит программировать и верстать сайты мы его научим и подготовим за счет компании. Испытательный срок от 2 до 4 недель(при собеседовании) Зарплата 2 раза в месяц: аванс и оклад. Оклад фиксированный + % от объема выполненных задач за месяц.',
                  'key_skills': 'Управление проектами;Ведение переговоров;Разработка ПО',
                  'experience_id': 'noExperience', 'premium': 'False', 'employer_name': 'Асташенков Г. А.',
                  'salary_from': '30000.0', 'salary_to': '80000.0', 'salary_gross': 'False',
                  'salary_currency': 'RUR', 'area_name': 'Ульяновск', 'published_at': '2022-05-31T17:32:31+0300', }
        self.assertEqual(DataSet.convert_row_to_dictionary(columns_name, row), result)

    def test_convert_cell_to_standard(self):
        cell = '<p>NEW! Web-программист(без опыта и с опытом)</p> <p> </p> <p><strong>Обязанности</strong>:</p> <p>- верстка сайтов на основе готовых макетов PHP, HTML и CSS</p> <p>- подключение собственной системы управления(обучение)</p> <p>- развитие собственного движка и системы управления</p> <p>- установка движка организации на проектах (обучение)</p> <p><br /><strong>Требования:</strong></p> <ul> <li>PHP7.4+ (знания ООП и паттернов проектирования) MySQL(MariaDB,PostgresQL)</li> <li>CSS(LESS,SASS)</li> <li>JS(TypeScript,NodeJS)</li> <li>знание основ Figma / Photoshop(для верстки с макетов из PSD)</li> <li>остальное при собеседовании.</li> </ul> <p><br /><strong>Условия:</strong></p> <p>- работа с офисе на Московское шоссе (удаленка после испытательного срока)</p> <p>- 5 дней с 9-00 до 18-00 (после вхождения в работу график может быть плавающим)</p> <p>- чай кофе печеньки</p> <p>- дружный коллектив</p> <p>- отпуск ежегодный оплачиваемый</p> <p> </p> <p><strong>В целом рассматриваем как с опытом работы так и без опыта. Если человек готов учиться и развиваться, он предан и любит программировать и верстать сайты мы его научим и подготовим за счет компании.</strong></p> <p> </p> <p>Испытательный срок от 2 до 4 недель(при собеседовании)</p> <p>Зарплата 2 раза в месяц: аванс и оклад.</p> <p><strong>Оклад фиксированный</strong> + <strong>% от объема</strong> выполненных задач за месяц.</p>'
        result = 'NEW! Web-программист(без опыта и с опытом) Обязанности: - верстка сайтов на основе готовых макетов PHP, HTML и CSS - подключение собственной системы управления(обучение) - развитие собственного движка и системы управления - установка движка организации на проектах (обучение) Требования: PHP7.4+ (знания ООП и паттернов проектирования) MySQL(MariaDB,PostgresQL) CSS(LESS,SASS) JS(TypeScript,NodeJS) знание основ Figma / Photoshop(для верстки с макетов из PSD) остальное при собеседовании. Условия: - работа с офисе на Московское шоссе (удаленка после испытательного срока) - 5 дней с 9-00 до 18-00 (после вхождения в работу график может быть плавающим) - чай кофе печеньки - дружный коллектив - отпуск ежегодный оплачиваемый В целом рассматриваем как с опытом работы так и без опыта. Если человек готов учиться и развиваться, он предан и любит программировать и верстать сайты мы его научим и подготовим за счет компании. Испытательный срок от 2 до 4 недель(при собеседовании) Зарплата 2 раза в месяц: аванс и оклад. Оклад фиксированный + % от объема выполненных задач за месяц.'
        self.assertEqual(DataSet.convert_cell_to_standard(cell), result)

    def test_convert_cell_to_standard_list(self):
        cell = 'Управление проектами\nВедение переговоров\nРазработка ПО'
        result = 'Управление проектами;Ведение переговоров;Разработка ПО'
        self.assertEqual(DataSet.convert_cell_to_standard(cell), result)
